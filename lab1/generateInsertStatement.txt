CREATE OR REPLACE FUNCTION GenerateInsertStatement(p_id IN NUMBER) RETURN VARCHAR2 IS
    v_val NUMBER;
    v_insert_statement VARCHAR2(1000); -- Максимальная длина команды INSERT
BEGIN
    SELECT val INTO v_val FROM MyTable WHERE id = p_id;

    v_insert_statement := 'INSERT INTO MyTable(id, val) VALUES (' || p_id || ', ' || v_val || ');';

    -- Вывод команды INSERT в консоль
    DBMS_OUTPUT.PUT_LINE(v_insert_statement);

    -- Возврат сгенерированной команды INSERT
    RETURN v_insert_statement;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('Запись с ID ' || p_id || ' не найдена.');
        RETURN NULL;
END;
/

DECLARE
    v_insert_command VARCHAR2(1000);
BEGIN
    v_insert_command := GenerateInsertStatement(20);
END;
/
